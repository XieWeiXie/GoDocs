# Restful 接口


- 路由设计
- 响应设计



## 接口需要做些什么

- 和数据库交互，完成增删改查

其中：难度排行：新增 > 更新 > 查询 > 删除


具体：

包括三个步骤：

- 参数检测：比如是否符合要求，个数，类型，长度等，可以使用 binding, 也可以构造结构体，给结构体方法进行检测
- 响应展示：比如需要哪些字段，不需要哪些字段，是否都显示等
- 数据检测：比如是否重复，是否已经存在的数据

### 新增

- 参数检测
- 数据检测
- 响应展示

### 更新

- 参数检测
- 数据检测
- 响应展示

使用: 事务操作，一旦出错，操作回滚，需要判断主键是否是 0 


### 查询

- 参数检测：翻页，排序等
- 数据检测
- 响应展示


### 删除

只要知道数据 ID 即可删除数据


## 写接口的一般模型

`src/function`

- params.go 参数，可以完成参数检测工作
- assistance.go 可以完成辅助工作
- controller.go 完成接口的主题工作
- router.go 路由的设计和主体的控制器
- response.go 响应信息的处理，有时候可以直接在定义 model 的 文件中直接进行 响应信息的处理


## 参数检测如何操作？

- 默认
- 选项
- 长度
- 区间

数值型：比较大小：max, min, gt,lt,gte,lte

字符串：长度、区间、选项